<script lang="ts">
	import { onMount } from 'svelte';

	const funFacts = [
		'ü¶ï Did you know? T-Rex had tiny arms but could still do push-ups!',
		'üåà Rainbows are actually full circles - we just see half from the ground!',
		'üêô Octopuses have three hearts and blue blood!',
		'üöÄ A day on Venus is longer than a year on Venus!',
		'ü¶ã Butterflies taste with their feet!',
		'üåô The Moon is slowly drifting away from Earth!',
		"üêò Elephants are the only animals that can't jump!",
		'‚≠ê There are more stars in the universe than grains of sand on Earth!',
		'ü¶à Sharks have been around longer than trees!',
		'üçØ Honey never spoils - 3000-year-old honey is still edible!',
		'üêß Penguins propose with pebbles!',
		'üåä The ocean has more historical artifacts than all museums combined!',
		'ü¶ú Parrots can live for over 80 years!',
		'üå∫ Sunflowers face the sun and follow it across the sky!',
		'üê¨ Dolphins sleep with one eye open!',
		'ü¶í Giraffes have the same number of neck bones as humans (7)!',
		'üçé Apples float in water because they are 25% air!',
		'ü¶• Sloths take two weeks to digest a single meal!',
		'üê¢ Some turtles can breathe through their butts!',
		'üç¶ Ice cream was once called "cream ice"!',
		'üêù Bees can fly higher than Mount Everest!',
		'üêÑ Cows have "best friends" and get stressed when separated!',
		'üêä Alligators can live for up to 100 years!',
		'üê¶ Hummingbirds are the only birds that can fly backwards!',
		'üçì Strawberries are the only fruit with seeds on the outside!',
		'‚ö° Lightning is five times hotter than the surface of the sun!',
		'üçü French fries actually come from Belgium!',
		'üêà Cats have 32 muscles in each ear!',
		'üêæ Polar bear skin is actually black, and their fur is clear!',
		'üåã The largest volcano in our solar system is on Mars!',
		'üç´ White chocolate isn‚Äôt technically chocolate!',
		'üêú Ants never sleep and don‚Äôt have lungs!',
		'üêÄ Rats laugh when you tickle them!',
		'üêº Giant pandas eat up to 28 pounds of bamboo a day!',
		'üêç Some snakes can fly (gliding through the air)!',
		'üê® Koalas have fingerprints just like humans!',
		'üçâ Watermelons are technically berries, but strawberries aren‚Äôt!',
		'üêö A snail can sleep for three years!',
		'ü¶â Owls don‚Äôt have eyeballs; they have "eye tubes"!',
		'ü¶ê A shrimp‚Äôs heart is in its head!',
		'üêé Seahorses are the only fish that swim upright!',
		'üå≤ Some pinecones stay on trees for 10 years before falling!',
		'üçø Popcorn was invented over 5,000 years ago!',
		'ü¶ç Gorillas can catch human colds!',
		'ü¶é Chameleons can move their eyes in two different directions at once!',
		'ü¶¥ Babies are born with 300 bones, but adults only have 206!',
		'üçå Bananas grow pointing towards the sun!',
		'üê∫ A wolf can smell its prey from nearly two miles away!',
		'üêÜ A cheetah can go from 0 to 60 mph in just three seconds!',
		'üê™ Camels have three eyelids to protect their eyes from sand!',
		'üß§ Your funny bone is actually a nerve, not a bone!',
		'ü¶Å A lion‚Äôs roar can be heard from five miles away!',
		'üßÄ Some cheese is aged in caves for years!',
		'üß• Otters hold hands while they sleep so they don‚Äôt drift away!',
		'üß© The Rubik‚Äôs Cube has over 43 quintillion combinations!',
		'üõ∞Ô∏è The International Space Station travels at 17,500 miles per hour!',
		'üç¨ Gummy bears were originally called "dancing bears"!',
		'üê≥ A blue whale‚Äôs tongue weighs as much as an elephant!',
		'ü¶∑ Snails have thousands of tiny teeth on their tongues!',
		'ü•ï Carrots were originally purple, not orange!',
		'ü¶Ö Bald eagles aren‚Äôt actually bald; they have white feathers!',
		'üö≤ The first bicycles didn‚Äôt have pedals; you pushed with your feet!',
		'ü•î The first vegetable grown in space was a potato!',
		'ü™Å Kites were invented in China over 2,000 years ago!',
		'ü¶Ä Some crabs have eyes on long stalks!',
		'üêøÔ∏è Squirrels plant thousands of trees by forgetting where they hid nuts!',
		'ü¶ò Kangaroos can‚Äôt walk backwards!',
		'üçÑ Some mushrooms glow in the dark!',
		'üéê Jellyfish have been on Earth for over 500 million years!',
		'üç≥ An ostrich egg is equal to about 24 chicken eggs!',
		'üè∞ The Great Wall of China is longer than the distance across the USA!',
		'üõ∂ The world‚Äôs oldest boat is over 10,000 years old!',
		'üéπ A standard piano has 88 keys!',
		'‚õ∏Ô∏è The first ice skates were made from animal bones!',
		'üß± LEGO bricks made in 1958 still fit with bricks made today!',
		'üíé Diamonds are the hardest natural substance on Earth!',
		'ü™ê Saturn‚Äôs rings are mostly made of ice and rock!',
		'üå≤ The oldest tree in the world is over 4,800 years old!',
		'ü¶ó A cricket‚Äôs ears are on its front legs!',
		'üöí The first fire engines were pulled by horses!',
		'üõ∏ The "Wow!" signal was a mysterious radio signal from space!',
		'üåã There are about 1,500 active volcanoes on Earth!',
		'ü¶ì A zebra‚Äôs stripes are unique, like a fingerprint!',
		'üçÖ Tomatoes are fruits, not vegetables!',
		'üßÄ Mice don‚Äôt actually like cheese as much as they like sweets!',
		'ü¶á Bats are the only mammals that can truly fly!',
		'ü¶è A rhinoceros horn is made of the same stuff as your hair!',
		'üåµ Some cacti can live for over 200 years!',
		'ü•ñ The longest loaf of bread ever baked was over 3,900 feet long!',
		'üå¨Ô∏è Wind is silent until it hits an object!',
		'üêö You can hear the "ocean" in a seashell because of your own blood flow!',
		'üöú The first tractors were powered by steam!',
		'üéª The world‚Äôs smallest violin is less than an inch long!',
		'ü´ß Soap bubbles are always round because of surface tension!',
		'üß≤ The Earth is like a giant magnet!',
		'üåë We only ever see one side of the Moon!',
		'üé® Leonardo da Vinci could write with one hand and draw with the other!',
		'üóº The Eiffel Tower grows taller in the summer due to heat!',
		'üïØÔ∏è Candles were once made from whale fat!',
		'üöÇ The first trains traveled slower than a person could run!',
		'üß∏ The Teddy Bear was named after President Theodore Roosevelt!',
		'üç´ It takes about 400 cocoa beans to make one pound of chocolate!',
		'üèîÔ∏è Mount Everest grows about a quarter of an inch every year!',
		'ü•Ω The first sunglasses were used by judges in China to hide their eyes!',
		'üõπ The first skateboards were made from wooden crates with roller skate wheels!'
	];

	const loadingMessages = [
		"Searching for today's coolest news...",
		'Finding stories just for you...',
		'Making news fun to read...',
		'Drawing awesome pictures...',
		'Putting together your newspaper...',
		'Adding the finishing touches...',
		'Almost ready for print...'
	];

	let currentFact = $state(funFacts[0]);
	let currentMessage = $state(loadingMessages[0]);
	let messageIndex = $state(0);
	let progress = $state(0);

	onMount(() => {
		// Rotate fun facts every 5 seconds
		const factInterval = setInterval(() => {
			currentFact = funFacts[Math.floor(Math.random() * funFacts.length)];
		}, 5000);

		// Progress through loading messages
		const messageInterval = setInterval(() => {
			messageIndex = Math.min(messageIndex + 1, loadingMessages.length - 1);
			currentMessage = loadingMessages[messageIndex];
		}, 8000);

		// Animate progress bar
		const progressInterval = setInterval(() => {
			progress = Math.min(progress + 1, 95);
		}, 600);

		return () => {
			clearInterval(factInterval);
			clearInterval(messageInterval);
			clearInterval(progressInterval);
		};
	});
</script>

<div class="flex min-h-[400px] flex-col items-center justify-center gap-8 p-8">
	<!-- Animated Newspaper -->
	<div class="newspaper-animation">
		<div class="newspaper">
			<div class="newspaper-line"></div>
			<div class="newspaper-line short"></div>
			<div class="newspaper-line"></div>
			<div class="newspaper-line short"></div>
			<div class="newspaper-line"></div>
		</div>
		<div class="sparkles">
			<span class="sparkle">‚ú®</span>
			<span class="sparkle delay-1">‚≠ê</span>
			<span class="sparkle delay-2">‚ú®</span>
			<span class="sparkle delay-3">üåü</span>
		</div>
	</div>

	<!-- Loading Message -->
	<div class="text-center">
		<h2 class="mb-2 text-2xl font-bold text-gray-800">{currentMessage}</h2>
		<p class="text-gray-500">This takes about 45-60 seconds</p>
	</div>

	<!-- Progress Bar -->
	<div class="w-full max-w-md">
		<div class="h-4 overflow-hidden rounded-full bg-gray-200">
			<div
				class="progress-bar h-full rounded-full transition-all duration-500"
				style="width: {progress}%"
			></div>
		</div>
		<p class="mt-2 text-center text-sm text-gray-500">{progress}%</p>
	</div>

	<!-- Fun Fact -->
	<div class="max-w-md rounded-xl bg-amber-50 p-4 text-center shadow-md">
		<p class="text-sm font-medium text-amber-800">While you wait...</p>
		<p class="mt-1 text-lg text-gray-700">{currentFact}</p>
	</div>

	<!-- Bouncing Icons -->
	<div class="flex gap-4">
		<span class="bounce-icon">üì∞</span>
		<span class="bounce-icon delay-1">‚úèÔ∏è</span>
		<span class="bounce-icon delay-2">üé®</span>
		<span class="bounce-icon delay-3">üì∏</span>
		<span class="bounce-icon delay-4">üñ®Ô∏è</span>
	</div>
</div>

<style>
	/* Newspaper animation */
	.newspaper-animation {
		position: relative;
		width: 120px;
		height: 140px;
	}

	.newspaper {
		width: 100px;
		height: 120px;
		background: white;
		border-radius: 4px;
		box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
		padding: 12px;
		display: flex;
		flex-direction: column;
		gap: 8px;
		animation: float 2s ease-in-out infinite;
	}

	.newspaper-line {
		height: 8px;
		background: linear-gradient(90deg, #e5e7eb, #d1d5db, #e5e7eb);
		background-size: 200% 100%;
		border-radius: 4px;
		animation: shimmer 1.5s infinite;
	}

	.newspaper-line.short {
		width: 60%;
	}

	@keyframes float {
		0%,
		100% {
			transform: translateY(0px) rotate(-2deg);
		}
		50% {
			transform: translateY(-10px) rotate(2deg);
		}
	}

	@keyframes shimmer {
		0% {
			background-position: -200% 0;
		}
		100% {
			background-position: 200% 0;
		}
	}

	/* Sparkles */
	.sparkles {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		pointer-events: none;
	}

	.sparkle {
		position: absolute;
		font-size: 20px;
		animation: sparkle 2s ease-in-out infinite;
	}

	.sparkle:nth-child(1) {
		top: -10px;
		left: 50%;
	}
	.sparkle:nth-child(2) {
		top: 30%;
		right: -20px;
	}
	.sparkle:nth-child(3) {
		bottom: 10px;
		left: -15px;
	}
	.sparkle:nth-child(4) {
		bottom: -10px;
		right: 20%;
	}

	@keyframes sparkle {
		0%,
		100% {
			opacity: 0;
			transform: scale(0.5);
		}
		50% {
			opacity: 1;
			transform: scale(1.2);
		}
	}

	.sparkle.delay-1 {
		animation-delay: 0.5s;
	}
	.sparkle.delay-2 {
		animation-delay: 1s;
	}
	.sparkle.delay-3 {
		animation-delay: 1.5s;
	}

	/* Progress bar */
	.progress-bar {
		background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899, #f59e0b);
		background-size: 300% 100%;
		animation: gradient 2s ease infinite;
	}

	@keyframes gradient {
		0% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
		100% {
			background-position: 0% 50%;
		}
	}

	/* Bouncing icons */
	.bounce-icon {
		font-size: 24px;
		animation: bounce 1s ease-in-out infinite;
	}

	.bounce-icon.delay-1 {
		animation-delay: 0.1s;
	}
	.bounce-icon.delay-2 {
		animation-delay: 0.2s;
	}
	.bounce-icon.delay-3 {
		animation-delay: 0.3s;
	}
	.bounce-icon.delay-4 {
		animation-delay: 0.4s;
	}

	@keyframes bounce {
		0%,
		100% {
			transform: translateY(0);
		}
		50% {
			transform: translateY(-15px);
		}
	}
</style>
